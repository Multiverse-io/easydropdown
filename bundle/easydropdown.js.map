{"version":3,"sources":["webpack://easydropdown/webpack/universalModuleDefinition","webpack://easydropdown/webpack/bootstrap","webpack://easydropdown/./node_modules/helpful-merge/dist/index.js","webpack://easydropdown/./src/Shared/Util/dispatchOpen.ts","webpack://easydropdown/./src/Shared/Util/composeClassName.ts","webpack://easydropdown/./node_modules/helpful-merge/dist/Constants/ArrayStrategy.js","webpack://easydropdown/./src/Shared/Util/closestParent.ts","webpack://easydropdown/./src/Events/Constants/Selectors.ts","webpack://easydropdown/./src/Shared/Util/killSelectReaction.ts","webpack://easydropdown/./src/Easydropdown/cache.ts","webpack://easydropdown/./node_modules/helpful-merge/dist/merge.js","webpack://easydropdown/./node_modules/helpful-merge/dist/Messages.js","webpack://easydropdown/./src/Config/Config.ts","webpack://easydropdown/./src/Shared/Util/Constants/CollisionType.ts","webpack://easydropdown/./src/Shared/Util/getIsMobilePlatform.ts","webpack://easydropdown/./src/Events/Constants/KeyCodes.ts","webpack://easydropdown/./src/Events/Handlers/handleWindowClick.ts","webpack://easydropdown/./src/Renderer/Constants/AttributeChangeType.ts","webpack://easydropdown/./src/Renderer/Constants/DomChangeType.ts","webpack://easydropdown/./src/State/Constants/BodyStatus.ts","webpack://easydropdown/./src/State/Constants/ScrollStatus.ts","webpack://easydropdown/./src/State/Group.ts","webpack://easydropdown/./src/State/Option.ts","webpack://easydropdown/./src/umd.ts","webpack://easydropdown/./node_modules/custom-event-polyfill/polyfill.js","webpack://easydropdown/./src/Shared/Polyfills/Element.matches.ts","webpack://easydropdown/./src/Easydropdown/factory.ts","webpack://easydropdown/./src/Easydropdown/Easydropdown.ts","webpack://easydropdown/./node_modules/helpful-merge/dist/Config.js","webpack://easydropdown/./node_modules/helpful-merge/dist/deriveCustomTypeInstance.js","webpack://easydropdown/./node_modules/helpful-merge/dist/FluentMerge.js","webpack://easydropdown/./node_modules/helpful-merge/dist/handleMergeError.js","webpack://easydropdown/./src/Config/Behavior.ts","webpack://easydropdown/./src/Config/Callbacks.ts","webpack://easydropdown/./src/Config/ClassNames.ts","webpack://easydropdown/./src/Events/bindEvents.ts","webpack://easydropdown/./src/Shared/Util/throttle.ts","webpack://easydropdown/./src/Events/EventBinding.ts","webpack://easydropdown/./src/Events/getEventsList.ts","webpack://easydropdown/./src/Events/Handlers/handleBodyClick.ts","webpack://easydropdown/./src/Events/Handlers/handleBodyMousedown.ts","webpack://easydropdown/./src/Events/Handlers/handleBodyMouseover.ts","webpack://easydropdown/./src/Events/Handlers/handleHeadClick.ts","webpack://easydropdown/./src/Shared/Util/detectBodyCollision.ts","webpack://easydropdown/./src/Events/Handlers/handleItemsListScroll.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectBlur.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectFocus.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectInvalid.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectKeydown.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectKeydownDown.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectKeydownUp.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectKeypress.ts","webpack://easydropdown/./src/Renderer/Renderer.ts","webpack://easydropdown/./src/Components/root.ts","webpack://easydropdown/./src/Components/body.ts","webpack://easydropdown/./src/Components/group.ts","webpack://easydropdown/./src/Components/option.ts","webpack://easydropdown/./src/Components/head.ts","webpack://easydropdown/./src/Components/arrow.ts","webpack://easydropdown/./src/Components/value.ts","webpack://easydropdown/./src/Shared/Util/createDomElementFromHtml.ts","webpack://easydropdown/./src/Renderer/Dom.ts","webpack://easydropdown/./src/Renderer/domDiff.ts","webpack://easydropdown/./src/Renderer/PatchCommand.ts","webpack://easydropdown/./src/Renderer/domPatch.ts","webpack://easydropdown/./src/Shared/Util/pollForSelectChange.ts","webpack://easydropdown/./src/Shared/Util/pollForSelectMutation.ts","webpack://easydropdown/./src/State/InjectedActions/closeOthers.ts","webpack://easydropdown/./src/State/InjectedActions/scrollToView.ts","webpack://easydropdown/./src/State/StateManager.ts","webpack://easydropdown/./src/State/resolveActions.ts","webpack://easydropdown/./src/State/StateMapper.ts","webpack://easydropdown/./src/State/State.ts","webpack://easydropdown/./src/Easydropdown/Timers.ts","webpack://easydropdown/./src/Easydropdown/EasydropdownFacade.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","merge_1","ArrayStrategy_1","ArrayStrategy","default","detectBodyCollision_1","dispatchOpen","injectedDetectBodyCollision","actions","config","dom","collisionData","maxVisibleItems","maxVisibleItemsOverride","behavior","isScrollable","item","length","maxBodyHeight","sumItemsHeight","open","type","boundDispatchOpen","tokens","reduce","classNames","token","push","predicate","className","join","el","selector","includeSelf","parent","parentNode","matches","document","body","OPTION","select","_a","timers","clearTimeout","keyingTimeoutId","keying","setTimeout","resetKeying","disabled","focus","Config_1","deriveCustomTypeInstance_1","FluentMerge_1","handleMergeError_1","Messages","merge","target","source","options","isClientSide","sourceKeys","deep","PUSH","REPLACE","indexOf","arrayStrategy","RangeError","INVALID_ARRAY_STRATEGY","TypeError","TYPE_ERROR_TARGET","TYPE_ERROR_SOURCE","Array","isArray","apply","toString","getOwnPropertyNames","_i","sourceKeys_1","descriptor","getOwnPropertyDescriptor","set","includeReadOnly","includeNonEmurable","Node","documentElement","useReferenceIfArray","useReferenceIfTargetUnset","err","errorMessage","preserveTypeIfTargetUnset","keys","forEach","method","args","arguments","createFluent","MERGE_ERROR","offender","suggestion","strategy","Behavior_1","Callbacks_1","ClassNames_1","Config","this","callbacks","seal","CollisionType","userAgent","isIos","test","isAndroid","isOperaMini","isWindowsPhone","UP","DOWN","SPACE","ENTER","ESC","_","state","isOpen","close","blur","AttributeChangeType","DomChangeType","BodyStatus","ScrollStatus","Group","label","isDisabled","Option","factory_1","ce","CustomEvent","cancelable","preventDefault","defaultPrevented","Error","e","event","params","evt","origPrevent","bubbles","detail","undefined","createEvent","initCustomEvent","Event","Element","msMatchesSelector","cache_1","Easydropdown_1","EasydropdownFacade_1","selectElementOrSelector","selectElement","querySelector","HTMLSelectElement","multiple","cache_2","cachedInstance","instance","factoryFn","decoratedFactory","all","selects","querySelectorAll","destroy","slice","helpful_merge_1","bindEvents_1","Renderer_1","dispatchOpen_1","pollForSelectChange_1","pollForSelectMutation_1","closeOthers_1","scrollToView_1","StateManager_1","StateMapper_1","Timers_1","Easydropdown","mapFromSelect","renderer","render","proxyActions","closeOthers","scrollToView","handleStateUpdate","eventBindings","pollChangeIntervalId","liveUpdates","pollMutationIntervalId","refresh","nextValue","update","group","option","queryDomRefs","validate","isRequired","hasValue","invalidate","clear","binding","unbind","cacheIndex","splice","cb","onOpen","onClose","onSelect","onOptionClick","getOptionFromIndex","focusedIndex","constructor","FluentMerge","sources","to","from","with","exec","_this","getTotalMatching","possibleKey","offendingKey","longer","shorter","leftPointer","leftInnerPointer","leftTotalMatching","lastCommonIndex","rightPointer","rightInnerPointer","rightTotalMatching","longerLastIndex","shorterLastIndex","Math","min","message","isSealed","isExtensible","reducer","offendingKeyLower","currBestMatch","currKey","totalMatching","toLowerCase","delta","abs","primer","Infinity","bestMatch","Behavior","showPlaceholderWhenOpen","openOnFocus","closeOnSelect","useNativeUiOnMobile","loop","clampMaxVisibleItems","Callbacks","ClassNames","rootOpen","rootOpenAbove","rootOpenBelow","rootDisabled","rootInvalid","rootFocused","rootHasValue","rootNative","gradientTop","gradientBottom","head","arrow","bodyOpen","bodyScrollable","bodyAtTop","bodyAtBottom","itemsList","groupDisabled","groupHasLabel","groupLabel","optionDisabled","optionFocused","optionSelected","throttle_1","EventBinding_1","getEventsList_1","bindEvent","handlerParams","eventBindingRaw","eventBinding","boundHandler","handler","throttle","addEventListener","map","delay","timerId","last","now","Date","later","difference","EventBinding","debounce","passive","removeEventListener","handleBodyClick_1","handleBodyMousedown_1","handleBodyMouseover_1","handleHeadClick_1","handleItemsListScroll_1","handleSelectBlur_1","handleSelectFocus_1","handleSelectInvalid_1","handleSelectKeydown_1","handleSelectKeypress_1","handleWindowClick_1","handleWindowClick_2","closestParent_1","Selectors","stopPropagation","optionIndex","selectOption","startClickSelecting","isKeying","focusOption","getIsMobilePlatform_1","handleHeadClick","injectedGetIsMobilePlatform","isUseNativeMode","isMobilePlatform","navigator","isClosed","boundHandleHeadClick","CollisionType_1","CLEARSPACE","mapCollisionData","deltaTop","deltaBottom","maxHeight","itemHeight","NONE","largestDelta","max","TOP","BOTTOM","floor","bbHead","getBoundingClientRect","wh","innerHeight","top","bottom","_b","offsetHeight","scrollHeight","scrollTop","topOut","bottomOut","scroll","isClickSelecting","killSelectReaction_1","KeyCodes","handleSelectKeydownDown_1","handleSelectKeydownUp_1","keyCode","isSearching","metaKey","selectedIndex","iterations","incrementAmount","round","totalOptions","focusedOption","SEARCH_RESET_DURATION","searchResetDuration","includes","searchTimeoutId","search","resetSearch","root_1","createDomElementFromHtml_1","Dom_1","domDiff_1","domPatch_1","Renderer","html","rootElement","injectSelect","nextHtml","nextRoot","diffCommand","syncSelectWithValue","classList","remove","parentElement","replaceChild","tempSelect","setAttribute","dispatchEvent","localDom","ref","elements","element","composeClassName_1","body_1","head_1","isInvalid","isFocused","isOpenAbove","isOpenBelow","group_1","isAtTop","isAtBottom","styleAttr","groups","groupState","option_1","hasLabel","optionState","isSelected","selectedOption","arrow_1","value_1","isPlaceholderShown","humanReadableValue","temp","createElement","innerHTML","firstElementChild","Dom","totalHeight","AttributeChangeType_1","DomChangeType_1","PatchCommand_1","diffAttributeChanges","prev","next","totalAttributes","attributes","attributesMap","attributeChanges","attr1","attr2","sort","attr","change","ADD","REMOVE","EDIT","OUTER","domDiff","totalChildNodes","command","Text","textContent","INNER","newTextContent","HTMLElement","tagName","newNode","outerHTML","FULL","childNodes","childNode","childCommands","newInnerHtml","PatchCommand","index","patchAttributes","raf","requestAnimationFrame","patchAttribute","removeAttribute","domPatch","node","childCommand","POLL_INTERVAL_DURATION","lastValue","setInterval","getOptionIndexFromValue","handleMutation","lastOuterHtml","thisInstance","cache","getScrollTop","currentScrollTop","optionOffsetTop","optionHeight","bodyHeight","scrollOffset","remainder","scrollToMiddle","offset","offsetTop","resolveActions_1","StateManager","injectedActions","onAction","stateProxy","createStateProxy","getPropertyDescriptorsFromValue","proxy","getPrototypeOf","concat","localDescriptors","isAccessorProperty","readPropertyValue","updatePropertyValue","BodyStatus_1","ScrollStatus_1","scrollStatus","AT_TOP","AT_BOTTOM","SCROLLED","makeScrollable","makeUnscrollable","collisionType","bodyStatus","OPEN_BELOW","OPEN_ABOVE","CLOSED","optionAtIndex","shouldScrollToView","useNative","Group_1","Option_1","State_1","StateMapper","isWithinGroup","required","child","children","getAttribute","HTMLOptionElement","mapGroup","lastGroup","mapOption","selected","HTMLOptGroupElement","j","groupChild","placeholder","isParentGroupDisabled","State","stateRaw","groupRaw","optionRaw","total","hasPlaceholder","Boolean","find","groupStartIndex","_c","Timers","clearInterval","EasydropdownFacade","implementation","defineProperties"],"mappings":"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","file":"easydropdown.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"easydropdown\"] = factory();\n\telse\n\t\troot[\"easydropdown\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar merge_1 = require(\"./merge\");\nvar ArrayStrategy_1 = require(\"./Constants/ArrayStrategy\");\nexports.ArrayStrategy = ArrayStrategy_1.default;\nexports.default = merge_1.default;\n//# sourceMappingURL=index.js.map","import Config   from '../../Config/Config';\nimport Dom      from '../../Renderer/Dom';\nimport IActions from '../../State/Interfaces/IActions';\n\nimport detectBodyCollision from './detectBodyCollision';\nimport IDispatchOpen       from './Interfaces/IDispatchOpen';\n\nfunction dispatchOpen(\n    injectedDetectBodyCollision: typeof detectBodyCollision,\n    actions: IActions,\n    config: Config,\n    dom: Dom\n): void {\n    const collisionData = injectedDetectBodyCollision(dom, config);\n\n    const maxVisibleItems = collisionData.maxVisibleItemsOverride > -1 ?\n        collisionData.maxVisibleItemsOverride : config.behavior.maxVisibleItems;\n\n    const isScrollable = dom.item.length > maxVisibleItems;\n    const maxBodyHeight =  dom.sumItemsHeight(maxVisibleItems);\n\n    actions.open(maxBodyHeight, collisionData.type, isScrollable);\n}\n\nconst boundDispatchOpen: IDispatchOpen = dispatchOpen.bind(null, detectBodyCollision);\n\nexport {\n    boundDispatchOpen as default,\n    dispatchOpen\n};","function composeClassName(tokens: Array<string|[boolean, string]>): string {\n    return tokens\n        .reduce((classNames, token) => {\n            if (typeof token === 'string') classNames.push(token);\n            else {\n                const [predicate, className] = token;\n\n                if (predicate) classNames.push(className);\n            }\n\n            return classNames;\n        }, [])\n        .join(' ');\n}\n\nexport default composeClassName;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayStrategy;\n(function (ArrayStrategy) {\n    ArrayStrategy[\"PUSH\"] = \"PUSH\";\n    ArrayStrategy[\"REPLACE\"] = \"REPLACE\";\n})(ArrayStrategy || (ArrayStrategy = {}));\nexports.default = ArrayStrategy;\n//# sourceMappingURL=ArrayStrategy.js.map","/**\n * Returns the closest parent of a given element matching the\n * provided selector, optionally including the element itself.\n */\n\nfunction closestParent(\n    el: HTMLElement,\n    selector: string,\n    includeSelf: boolean = false\n): HTMLElement {\n    let parent = el.parentNode as HTMLElement;\n\n    if (includeSelf && el.matches(selector)) {\n        return el;\n    }\n\n    while (parent && parent !== document.body) {\n        if (parent.matches && parent.matches(selector)) {\n            return parent;\n        } else if (parent.parentNode) {\n            parent = parent.parentNode as HTMLElement;\n        } else {\n            return null;\n        }\n    }\n\n    return null;\n}\n\nexport default closestParent;","export const OPTION = '[data-ref~=\"option\"]';","import IHandlerParams from '../../Events/Interfaces/IHandlerParams';\n\nconst killSelectReaction = (select: HTMLSelectElement, {actions, timers}: IHandlerParams): void => {\n    const keyingResetDuration = 100;\n\n    window.clearTimeout(timers.keyingTimeoutId);\n\n    actions.keying();\n\n    timers.keyingTimeoutId = window.setTimeout(() => actions.resetKeying(), keyingResetDuration);\n\n    select.disabled = true;\n\n    setTimeout(() => {\n        select.disabled = false;\n        select.focus();\n    });\n};\n\nexport default killSelectReaction;","import Easydropdown from './Easydropdown';\n\nconst cache: Easydropdown[] = [];\n\nexport default cache;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Config_1 = require(\"./Config\");\nvar ArrayStrategy_1 = require(\"./Constants/ArrayStrategy\");\nvar deriveCustomTypeInstance_1 = require(\"./deriveCustomTypeInstance\");\nvar FluentMerge_1 = require(\"./FluentMerge\");\nvar handleMergeError_1 = require(\"./handleMergeError\");\nvar Messages = require(\"./Messages\");\nfunction merge(target, source, options) {\n    if (options === void 0) { options = null; }\n    var isClientSide = typeof window !== 'undefined';\n    var sourceKeys = [];\n    var config;\n    if (options instanceof Config_1.default) {\n        config = options;\n    }\n    else {\n        config = new Config_1.default();\n    }\n    if (typeof options === 'boolean' && options === true) {\n        config.deep = true;\n    }\n    else if (options && config !== options && typeof options === 'object') {\n        merge(config, options);\n        if ([ArrayStrategy_1.default.PUSH, ArrayStrategy_1.default.REPLACE].indexOf(config.arrayStrategy) < 0) {\n            throw RangeError(Messages.INVALID_ARRAY_STRATEGY(config.arrayStrategy));\n        }\n    }\n    if (!target || typeof target !== 'object') {\n        throw new TypeError(Messages.TYPE_ERROR_TARGET(target));\n    }\n    if (!source || typeof source !== 'object') {\n        throw new TypeError(Messages.TYPE_ERROR_SOURCE(source));\n    }\n    if (Array.isArray(source)) {\n        if (config.arrayStrategy === ArrayStrategy_1.default.PUSH) {\n            // Merge arrays via push()\n            target.push.apply(target, source);\n            return target;\n        }\n        for (var i = 0; i < source.length; i++) {\n            sourceKeys.push(i.toString());\n        }\n    }\n    else {\n        sourceKeys = Object.getOwnPropertyNames(source);\n    }\n    for (var _i = 0, sourceKeys_1 = sourceKeys; _i < sourceKeys_1.length; _i++) {\n        var key = sourceKeys_1[_i];\n        var descriptor = Object.getOwnPropertyDescriptor(source, key);\n        // Skip read-only properties\n        if (typeof descriptor.get === 'function' && !descriptor.set && !config.includeReadOnly)\n            continue;\n        // Skip non-enumerable properties\n        if (!descriptor.enumerable && !config.includeNonEmurable)\n            continue;\n        if (!config.deep ||\n            typeof source[key] !== 'object' ||\n            (isClientSide && source[key] instanceof window.Node) ||\n            (isClientSide && source[key] === window.document.body) ||\n            (isClientSide && source[key] === window.document.documentElement) ||\n            source[key] === null ||\n            (Array.isArray(source[key]) && config.useReferenceIfArray) ||\n            (!target[key] && config.useReferenceIfTargetUnset)) {\n            // If:\n            // - Shallow merge\n            // - All non-object primatives\n            // - <html>, <body>, or DOM Nodes\n            // - Null pointers\n            // - Arrays, if `useReferenceIfArray` set\n            // - Target prop null or undefined and `useRererenceIfTargetUnset` set\n            try {\n                target[key] = source[key];\n            }\n            catch (err) {\n                handleMergeError_1.default(err, target, key, config.errorMessage);\n            }\n        }\n        else {\n            // Deep merge objects/arrays\n            if (!Object.prototype.hasOwnProperty.call(target, key) || target[key] === null) {\n                // If property does not exist on target, instantiate an empty\n                // object, custom type or array to merge into\n                try {\n                    target[key] = Array.isArray(source[key]) ?\n                        [] : config.preserveTypeIfTargetUnset ?\n                        deriveCustomTypeInstance_1.default(source[key]) : {};\n                }\n                catch (err) {\n                    handleMergeError_1.default(err, target, key, config.errorMessage);\n                }\n            }\n            // Recursively deep copy objects or arrays\n            merge(target[key], source[key], config);\n        }\n    }\n    return target;\n}\nvar createFluent = function (method) { return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return (_a = new FluentMerge_1.default())[method].apply(_a, args);\n    var _a;\n}; };\nObject\n    .keys(FluentMerge_1.default.prototype)\n    .forEach(function (method) { return merge[method] = createFluent(method); });\nexports.default = merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MERGE_ERROR = function (offender, suggestion) {\n    if (suggestion === void 0) { suggestion = ''; }\n    return \"Unknown property \\\"\" + offender + \"\\\"\" + (suggestion ? \". Did you mean \\\"\" + suggestion + \"\\\"?\" : '');\n};\nexports.TYPE_ERROR_TARGET = function (target) {\n    return \"[Helpful Merge] Target \\\"\" + target + \"\\\" must be a valid object\";\n};\nexports.TYPE_ERROR_SOURCE = function (source) {\n    return \"[Helpful Merge] Source \\\"\" + source + \"\\\" must be a valid object\";\n};\nexports.INVALID_ARRAY_STRATEGY = function (strategy) {\n    return \"[Helpful Merge] Invalid array strategy \\\"\" + strategy + \"\\\"\";\n};\n//# sourceMappingURL=Messages.js.map","import Behavior   from './Behavior';\nimport Callbacks  from './Callbacks';\nimport ClassNames from './ClassNames';\nimport IConfig    from './Interfaces/IConfig';\n\nclass Config implements IConfig {\n    public callbacks = new Callbacks();\n    public classNames = new ClassNames();\n    public behavior = new Behavior();\n\n    constructor() {\n        Object.seal(this);\n    }\n}\n\nexport default Config;","enum CollisionType {\n    NONE   = 'NONE',\n    TOP    = 'TOP',\n    BOTTOM = 'BOTTOM'\n}\n\nexport default CollisionType;","function getIsMobilePlatform(userAgent: string): boolean {\n    const isIos = /(ipad|iphone|ipod)/gi.test(userAgent);\n    const isAndroid = /android/gi.test(userAgent);\n    const isOperaMini = /opera mini/gi.test(userAgent);\n    const isWindowsPhone = /windows phone/gi.test(userAgent);\n\n    if (isIos || isAndroid || isOperaMini || isWindowsPhone) {\n        return true;\n    }\n\n    return false;\n}\n\nexport default getIsMobilePlatform;","export const UP    = 38;\nexport const DOWN  = 40;\nexport const SPACE = 32;\nexport const ENTER = 13;\nexport const ESC   = 27;","import IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleWindowClick(_, {state, actions, dom}: IHandlerParams): void {\n    if (!state.isOpen) return;\n\n    actions.close();\n\n    dom.select.blur();\n}\n\nexport default handleWindowClick;","enum AttributeChangeType {\n    ADD = 'ADD',\n    EDIT = 'EDIT',\n    REMOVE = 'REMOVE'\n}\n\nexport default AttributeChangeType;","export enum DomChangeType {\n    NONE    = 'NONE',\n    FULL    = 'FULL',\n    REPLACE = 'REPLACE',\n    INNER   = 'INNER',\n    OUTER   = 'OUTER'\n}\n\nexport default DomChangeType;","enum BodyStatus {\n    CLOSED     = 'CLOSED',\n    OPEN_ABOVE = 'OPEN_ABOVE',\n    OPEN_BELOW = 'OPEN_BELOW'\n}\n\nexport default BodyStatus;","enum ScrollStatus {\n    AT_TOP    = 'AT_TOP',\n    SCROLLED  = 'SCROLLED',\n    AT_BOTTOM = 'AT_BOTTOM'\n}\n\nexport default ScrollStatus;","import Option from './Option';\n\nclass Group {\n    public label:      string   = '';\n    public options:    Option[] = [];\n    public isDisabled: boolean  = false;\n\n    public get totalOptions(): number {\n        return this.options.length;\n    }\n\n    public get hasLabel(): boolean {\n        return this.label !== '';\n    }\n}\n\nexport default Group;","class Option {\n    public label:      string  = '';\n    public value:      string  = '';\n    public isDisabled: boolean = false;\n}\n\nexport default Option;","import 'custom-event-polyfill';\n\nimport './Shared/Polyfills/Element.matches';\n\nimport factory from './Easydropdown/factory';\n\nmodule.exports = factory;","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n","if (!Element.prototype.matches) {\n    Element.prototype.matches = (Element.prototype as any).msMatchesSelector;\n}","import IConfig from '../Config/Interfaces/IConfig';\n\nimport cache              from './cache';\nimport Easydropdown       from './Easydropdown';\nimport EasydropdownFacade from './EasydropdownFacade';\nimport IFactory           from './Interfaces/IFactory';\n\nfunction factory(\n    selectElementOrSelector: (HTMLSelectElement|string),\n    options: IConfig = {}\n): EasydropdownFacade {\n    let selectElement = selectElementOrSelector;\n\n    if (typeof selectElementOrSelector === 'string') {\n        selectElement = document.querySelector(selectElementOrSelector) as HTMLSelectElement;\n    }\n\n    if (!(selectElement instanceof HTMLSelectElement)) {\n        throw new TypeError('[EasyDropDown] Invalid select element provided');\n    }\n\n    if (selectElement.multiple) {\n        throw new Error(\n            '[EasyDropDown] EasyDropDown does not support the `multiple`' +\n            ' attribute on select elements.'\n        );\n    }\n\n    for (const cachedInstance of cache) {\n        if (cachedInstance.selectElement === selectElement) {\n            return new EasydropdownFacade(cachedInstance);\n        }\n    }\n\n    const instance = new Easydropdown(selectElement, options);\n\n    // @ts-ignore\n\n    cache.push(instance);\n\n    return new EasydropdownFacade(instance);\n}\n\nfunction decorateFactory(factoryFn: any): IFactory {\n    factoryFn.all = (options: IConfig = {}) => {\n        const selects = document.querySelectorAll('select');\n\n        Array.prototype.forEach.call(selects, select => {\n            const instance = factory(select, options);\n\n            return instance;\n        });\n    };\n\n    factoryFn.destroy = () => {\n        const cacheCopy = cache.slice();\n\n        cacheCopy.forEach(instance => instance.destroy());\n    };\n\n    return factoryFn;\n}\n\nconst decoratedFactory = decorateFactory(factory);\n\nexport default decoratedFactory;","import merge from 'helpful-merge';\n\nimport Config                 from '../Config/Config';\nimport ICallback              from '../Config/Interfaces/ICallback';\nimport IConfig                from '../Config/Interfaces/IConfig';\nimport bindEvents             from '../Events/bindEvents';\nimport EventBinding           from '../Events/EventBinding';\nimport Dom                    from '../Renderer/Dom';\nimport Renderer               from '../Renderer/Renderer';\nimport dispatchOpen           from '../Shared/Util/dispatchOpen';\nimport pollForSelectChange    from '../Shared/Util/pollForSelectChange';\nimport pollForSelectMutation  from '../Shared/Util/pollForSelectMutation';\nimport closeOthers            from '../State/InjectedActions/closeOthers';\nimport scrollToView           from '../State/InjectedActions/scrollToView';\nimport IActions               from '../State/Interfaces/IActions';\nimport State                  from '../State/State';\nimport StateManager           from '../State/StateManager';\nimport StateMapper            from '../State/StateMapper';\n\nimport cache  from './cache';\nimport Timers from './Timers';\n\nclass Easydropdown {\n    public actions: IActions;\n\n    private config: Config;\n    private state: State;\n    private dom: Dom;\n    private eventBindings: EventBinding[];\n    private renderer: Renderer;\n    private timers: Timers;\n\n    constructor(selectElement: HTMLSelectElement, options: IConfig) {\n        this.config = merge(new Config(), options, true);\n        this.state = StateMapper.mapFromSelect(selectElement, this.config);\n        this.renderer = new Renderer(this.config.classNames);\n        this.dom = this.renderer.render(this.state, selectElement);\n        this.timers = new Timers();\n\n        this.actions = StateManager.proxyActions(this.state, {\n            closeOthers: closeOthers.bind(null, this, cache),\n            scrollToView: scrollToView.bind(null, this.dom, this.timers)\n        }, this.handleStateUpdate.bind(this));\n\n        this.eventBindings = bindEvents({\n            actions: this.actions,\n            config: this.config,\n            dom: this.dom,\n            state: this.state,\n            timers: this.timers\n        });\n\n        this.timers.pollChangeIntervalId = pollForSelectChange(this.dom.select, this.state, this.actions, this.config);\n\n        if (this.config.behavior.liveUpdates) {\n            this.timers.pollMutationIntervalId = pollForSelectMutation(\n                this.dom.select,\n                this.state,\n                this.refresh.bind(this)\n            );\n        }\n    }\n\n    public get selectElement(): HTMLSelectElement {\n        return this.dom.select;\n    }\n\n    public get value(): string {\n        return this.state.value;\n    }\n\n    public set value(nextValue: string) {\n        if (typeof nextValue !== 'string') {\n            throw new TypeError('[EasyDropDown] Provided value not a valid string');\n        }\n\n        this.dom.select.value = nextValue;\n    }\n\n    public open(): void {\n        dispatchOpen(this.actions, this.config, this.dom);\n    }\n\n    public close(): void {\n        this.actions.close();\n    }\n\n    public refresh(): void {\n        this.state = merge(\n            this.state,\n            StateMapper.mapFromSelect(this.dom.select, this.config)\n        );\n\n        this.renderer.update(this.state);\n\n        this.dom.group.length = this.dom.option.length = this.dom.item.length = 0;\n\n        Renderer.queryDomRefs(this.dom, ['group', 'option', 'item']);\n    }\n\n    public validate(): boolean {\n        if (!this.state.isRequired || this.state.hasValue) {\n            return true;\n        }\n\n        this.actions.invalidate();\n\n        return false;\n    }\n\n    public destroy(): void {\n        this.timers.clear();\n        this.eventBindings.forEach(binding => binding.unbind());\n        this.renderer.destroy();\n\n        const cacheIndex = cache.indexOf(this);\n\n        cache.splice(cacheIndex, 1);\n    }\n\n    private handleStateUpdate(state: State, key: keyof State): void {\n        const {callbacks} = this.config;\n\n        this.renderer.update(state, key);\n\n        switch (key) {\n            case 'bodyStatus': {\n                let cb: ICallback;\n\n                if (state.isOpen) {\n                    cb = callbacks.onOpen;\n                } else {\n                    cb = callbacks.onClose;\n                }\n\n                if (typeof cb === 'function') cb();\n\n                break;\n            }\n            case 'selectedIndex': {\n                const cb = callbacks.onSelect;\n\n                if (typeof cb === 'function') cb(state.value);\n\n                break;\n            }\n            case 'isClickSelecting': {\n                const cb = callbacks.onOptionClick;\n\n                if (state[key] === false) {\n                    const nextValue = state.getOptionFromIndex(state.focusedIndex).value;\n\n                    if (typeof cb === 'function') cb(nextValue);\n                }\n            }\n        }\n    }\n}\n\nexport default Easydropdown;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayStrategy_1 = require(\"./Constants/ArrayStrategy\");\nvar Messages = require(\"./Messages\");\nvar Config = /** @class */ (function () {\n    function Config() {\n        this.deep = false;\n        this.useReferenceIfTargetUnset = false;\n        this.useReferenceIfArray = false;\n        this.preserveTypeIfTargetUnset = false;\n        this.includeReadOnly = false;\n        this.includeNonEmurable = false;\n        this.arrayStrategy = ArrayStrategy_1.default.REPLACE;\n        this.errorMessage = Messages.MERGE_ERROR;\n        Object.seal(this);\n    }\n    return Config;\n}());\nexports.default = Config;\n//# sourceMappingURL=Config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction deriveCustoTypeInstance(_a) {\n    var constructor = _a.constructor;\n    if (typeof constructor === 'function' && constructor !== Object) {\n        return new constructor();\n    }\n    return {};\n}\nexports.default = deriveCustoTypeInstance;\n//# sourceMappingURL=deriveCustomTypeInstance.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar merge_1 = require(\"./merge\");\nvar FluentMerge = /** @class */ (function () {\n    function FluentMerge() {\n        this.target = null;\n        this.sources = [];\n        this.config = {};\n    }\n    /**\n     * Supplies a fluent merge instance with a target object to merge into and return.\n     */\n    FluentMerge.prototype.to = function (target) {\n        this.target = target;\n        return this;\n    };\n    /**\n     * Supplies a fluent merge instance with one or more source objects to merge from, in right to left order.\n     */\n    FluentMerge.prototype.from = function () {\n        var sources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            sources[_i] = arguments[_i];\n        }\n        this.sources = sources;\n        return this;\n    };\n    /**\n     * Supplies a fluent merge instance with a configuration object of one or more options.\n     */\n    FluentMerge.prototype.with = function (options) {\n        this.config = options;\n        return this;\n    };\n    /**\n     * Executes a fluent merge instance, merging all provided sources into the\n     * target, as per any provided configuration, and returning a reference to\n     * the target.\n     */\n    FluentMerge.prototype.exec = function () {\n        var _this = this;\n        return this.sources.reduce(function (target, source) { return merge_1.default(target, source, _this.config); }, this.target || {});\n    };\n    return FluentMerge;\n}());\nexports.default = FluentMerge;\n//# sourceMappingURL=FluentMerge.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction handleMergeError(err, target, offendingKey, message) {\n    // Rethrow if any of the following:\n    // - offending key already exists on target\n    // - object not sealed\n    // - is extensible\n    // - error not a TypeError\n    if (Object.hasOwnProperty.call(target, offendingKey) ||\n        !Object.isSealed(target) ||\n        Object.isExtensible(target) ||\n        !(err instanceof TypeError))\n        throw err;\n    var reducer = reduceBestMatch.bind(null, offendingKey, offendingKey.toLowerCase());\n    var primer = { key: '', delta: Infinity, totalMatching: 0 };\n    // Iterate through keys in target, for each key, compare with\n    // the offending key. Greatest number of matching characters wins.\n    var bestMatch = Object.keys(target).reduce(reducer, primer);\n    var suggestion = bestMatch && bestMatch.totalMatching > 1 ? bestMatch.key : '';\n    throw new TypeError(message(offendingKey, suggestion));\n}\n/**\n * Compares current key with current best match.\n */\nfunction reduceBestMatch(offendingKeyLower, offendingKey, currBestMatch, currKey) {\n    var totalMatching = getTotalMatching(currKey.toLowerCase(), offendingKeyLower);\n    var delta = Math.abs(currKey.length - offendingKey.length);\n    if (totalMatching > currBestMatch.totalMatching ||\n        (totalMatching === currBestMatch.totalMatching && delta < currBestMatch.delta)) {\n        // If a greater number of matching characters, or the same\n        // number, but a lesser delta, usurp the best match\n        return { key: currKey, delta: delta, totalMatching: totalMatching };\n    }\n    return currBestMatch;\n}\n/**\n * Returns the number of common, consecutive characters\n * between two strings.\n */\nfunction getTotalMatching(possibleKey, offendingKey) {\n    var longer = possibleKey.length > offendingKey.length ? possibleKey : offendingKey;\n    var shorter = longer === possibleKey ? offendingKey : possibleKey;\n    var leftPointer = 0;\n    var leftInnerPointer = 0;\n    var leftTotalMatching = 0;\n    var lastCommonIndex = -1;\n    for (; leftPointer < longer.length; leftPointer++) {\n        while (leftTotalMatching === 0 &&\n            longer[leftPointer] !== shorter[leftInnerPointer] &&\n            leftInnerPointer < shorter.length) {\n            // No match at present, move innerPointer through all possible\n            // indices until a match is found\n            leftInnerPointer++;\n        }\n        if (longer[leftPointer] === shorter[leftInnerPointer]) {\n            // Match found\n            if (lastCommonIndex !== leftPointer - 1) {\n                // If beginning of a new match, reset total common\n                leftTotalMatching = 0;\n            }\n            lastCommonIndex = leftPointer;\n            leftTotalMatching++;\n            leftInnerPointer++;\n            // Whole word matched, end\n            if (leftTotalMatching === shorter.length)\n                break;\n        }\n        else if (leftTotalMatching > 1) {\n            // No match, but at least two common characters found, end\n            break;\n        }\n        else {\n            // No match at this index, reset\n            leftTotalMatching = leftInnerPointer = 0;\n        }\n    }\n    lastCommonIndex = -1;\n    var rightPointer = 0;\n    var rightInnerPointer = 0;\n    var rightTotalMatching = 0;\n    var longerLastIndex = longer.length - 1;\n    var shorterLastIndex = shorter.length - 1;\n    // As above, but from right to left\n    for (; rightPointer < longer.length - leftPointer; rightPointer++) {\n        while (rightTotalMatching === 0 &&\n            longer[longerLastIndex - rightPointer] !== shorter[shorterLastIndex - rightInnerPointer] &&\n            rightInnerPointer < shorter.length) {\n            rightInnerPointer++;\n        }\n        if (longer[longerLastIndex - rightPointer] === shorter[shorterLastIndex - rightInnerPointer]) {\n            if (lastCommonIndex !== rightPointer - 1)\n                rightTotalMatching = 0;\n            lastCommonIndex = rightPointer;\n            rightTotalMatching++;\n            rightInnerPointer++;\n        }\n        else if (rightTotalMatching > 1) {\n            break;\n        }\n        else {\n            rightTotalMatching = rightInnerPointer = 0;\n        }\n    }\n    return Math.min(shorter.length, leftTotalMatching + rightTotalMatching);\n}\nexports.getTotalMatching = getTotalMatching;\nexports.default = handleMergeError;\n//# sourceMappingURL=handleMergeError.js.map","import IBehavior from './Interfaces/IBehavior';\n\nclass Behavior implements IBehavior {\n    public showPlaceholderWhenOpen: boolean = false;\n    public openOnFocus:             boolean = false;\n    public closeOnSelect:           boolean = true;\n    public useNativeUiOnMobile:     boolean = true;\n    public loop:                    boolean = false;\n    public clampMaxVisibleItems:    boolean = true;\n    public liveUpdates:             boolean = false;\n    public maxVisibleItems:         number  = 15;\n\n    constructor() {\n        Object.seal(this);\n    }\n}\n\nexport default Behavior;","import ICallback from './Interfaces/ICallback';\nimport ISelectCallback from './Interfaces/ISelectCallback';\n\nclass Callbacks {\n    public onOpen:        ICallback = null;\n    public onClose:       ICallback = null;\n    public onSelect:      ISelectCallback = null;\n    public onOptionClick: ISelectCallback = null;\n\n    constructor() {\n        Object.seal(this);\n    }\n}\n\nexport default Callbacks;","import IClassNames from './Interfaces/IClassNames';\n\nclass ClassNames implements IClassNames {\n    public root:           string = 'edd-root';\n    public rootOpen:       string = 'edd-root-open';\n    public rootOpenAbove:  string = 'edd-root-open-above';\n    public rootOpenBelow:  string = 'edd-root-open-below';\n    public rootDisabled:   string = 'edd-root-disabled';\n    public rootInvalid:    string = 'edd-root-invalid';\n    public rootFocused:    string = 'edd-root-focused';\n    public rootHasValue:   string = 'edd-root-has-value';\n    public rootNative:     string = 'edd-root-native';\n    public gradientTop:    string = 'edd-gradient-top';\n    public gradientBottom: string = 'edd-gradient-bottom';\n    public head:           string = 'edd-head';\n    public value:          string = 'edd-value';\n    public arrow:          string = 'edd-arrow';\n    public select:         string = 'edd-select';\n    public body:           string = 'edd-body';\n    public bodyOpen:       string = 'edd-body-open';\n    public bodyScrollable: string = 'edd-body-scrollable';\n    public bodyAtTop:      string = 'edd-body-at-top';\n    public bodyAtBottom:   string = 'edd-body-at-bottom';\n    public itemsList:      string = 'edd-items-list';\n    public group:          string = 'edd-group';\n    public groupDisabled:  string = 'edd-group-disabled';\n    public groupHasLabel:  string = 'edd-group-has-label';\n    public groupLabel:     string = 'edd-group-label';\n    public option:         string = 'edd-option';\n    public optionDisabled: string = 'edd-option-disabled';\n    public optionFocused:  string = 'edd-option-focused';\n    public optionSelected: string = 'edd-option-selected';\n\n    constructor() {\n        Object.seal(this);\n    }\n}\n\nexport default ClassNames;","import throttle from '../Shared/Util/throttle';\n\nimport EventBinding   from './EventBinding';\nimport getEventsList  from './getEventsList';\nimport IEventBinding  from './Interfaces/IEventBinding';\nimport IHandlerParams from './Interfaces/IHandlerParams';\n\nfunction bindEvent(handlerParams: IHandlerParams, eventBindingRaw: IEventBinding): EventBinding {\n    const eventBinding = new EventBinding(eventBindingRaw);\n\n    if (!eventBinding.target) return eventBinding;\n\n    const boundHandler = (e) => eventBinding.handler(e, handlerParams);\n\n    if (eventBinding.throttle > 0) {\n        eventBinding.boundHandler = throttle(boundHandler, eventBinding.throttle);\n    } else {\n        eventBinding.boundHandler = boundHandler;\n    }\n\n    eventBinding.target.addEventListener(eventBinding.type, eventBinding.boundHandler);\n\n    return eventBinding;\n}\n\nfunction bindEvents(handlerParams: IHandlerParams): EventBinding[] {\n    return getEventsList(handlerParams.dom).map(bindEvent.bind(null, handlerParams));\n}\n\nexport {\n    bindEvents as default,\n    bindEvent\n};","function throttle(\n    handler: (...args: any[]) => void,\n    delay: number\n): (...args: any[]) => void {\n    let timerId = null;\n    let last: number = -Infinity;\n\n    return function(...args): void {\n        const now = Date.now();\n\n        const later = () => {\n            timerId = null;\n\n            handler.apply(this, args);\n\n            last = now;\n        };\n\n        const difference = now - last;\n\n        if (difference >= delay) {\n            later();\n        } else {\n            clearTimeout(timerId);\n\n            timerId = setTimeout(later, delay - difference);\n        }\n    };\n}\n\nexport default throttle;","import merge from 'helpful-merge';\n\nimport IEventBinding from './Interfaces/IEventBinding';\nimport IEventHandler from './Interfaces/IEventHandler';\n\nclass EventBinding implements IEventBinding {\n    public type:         string        = '';\n    public target:       HTMLElement   = null;\n    public debounce:     number        = 0;\n    public throttle:     number        = 0;\n    public handler:      IEventHandler = null;\n    public boundHandler: EventListener = null;\n    public passive:      boolean       = false;\n\n    constructor(eventBindingRaw: IEventBinding|string) {\n        merge(this, eventBindingRaw);\n\n        Object.seal(this);\n    }\n\n    public unbind(): void {\n        if (!this.target) return;\n\n        this.target.removeEventListener(this.type, this.boundHandler);\n    }\n}\n\nexport default EventBinding;","import Dom from '../Renderer/Dom';\n\nimport handleBodyClick       from './Handlers/handleBodyClick';\nimport handleBodyMousedown   from './Handlers/handleBodyMousedown';\nimport handleBodyMouseover   from './Handlers/handleBodyMouseover';\nimport handleHeadClick       from './Handlers/handleHeadClick';\nimport handleItemsListScroll from './Handlers/handleItemsListScroll';\nimport handleSelectBlur      from './Handlers/handleSelectBlur';\nimport handleSelectFocus     from './Handlers/handleSelectFocus';\nimport handleSelectInvalid   from './Handlers/handleSelectInvalid';\nimport handleSelectKeydown   from './Handlers/handleSelectKeydown';\nimport handleSelectKeypress  from './Handlers/handleSelectKeypress';\nimport handleWindowClick     from './Handlers/handleWindowClick';\nimport handleWindowResize    from './Handlers/handleWindowClick';\nimport IEventBinding         from './Interfaces/IEventBinding';\n\nconst getEventsList = (dom: Dom): IEventBinding[] => [\n    {\n        target: dom.head,\n        type: 'click',\n        handler: handleHeadClick\n    },\n    {\n        target: dom.body,\n        type: 'mousedown',\n        handler: handleBodyMousedown\n    },\n    {\n        target: dom.body,\n        type: 'click',\n        handler: handleBodyClick\n    },\n    {\n        target: dom.body,\n        type: 'mouseover',\n        handler: handleBodyMouseover\n    },\n    {\n        target: dom.itemsList,\n        type: 'scroll',\n        handler: handleItemsListScroll\n    },\n    {\n        target: dom.select,\n        type: 'keydown',\n        handler: handleSelectKeydown\n    },\n    {\n        target: dom.select,\n        type: 'invalid',\n        handler: handleSelectInvalid\n    },\n    {\n        target: dom.select,\n        type: 'keypress',\n        handler: handleSelectKeypress\n    },\n    {\n        target: dom.select,\n        type: 'focus',\n        handler: handleSelectFocus\n    },\n    {\n        target: dom.select,\n        type: 'blur',\n        handler: handleSelectBlur\n    },\n    {\n        target: document.documentElement,\n        type: 'click',\n        handler: handleWindowClick\n    },\n    {\n        target: window,\n        type: 'resize',\n        handler: handleWindowResize,\n        throttle: 100\n    }\n];\n\nexport default getEventsList;","import closestParent  from '../../Shared/Util/closestParent';\nimport * as Selectors from '../Constants/Selectors';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleBodyClick(e: Event, {state, actions, dom, config}: IHandlerParams): void {\n    e.stopPropagation();\n\n    const option = closestParent(e.target as HTMLElement, Selectors.OPTION, true);\n\n    if (!option) return;\n\n    const optionIndex = Array.prototype.indexOf.call(dom.option, option);\n\n    actions.selectOption(optionIndex, config.behavior.closeOnSelect);\n}\n\nexport default handleBodyClick;","import closestParent  from '../../Shared/Util/closestParent';\nimport * as Selectors from '../Constants/Selectors';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleBodyMousedown(e: Event, {actions}: IHandlerParams): void {\n    e.stopPropagation();\n\n    const option = closestParent(e.target as HTMLElement, Selectors.OPTION, true);\n\n    if (!option) return;\n\n    actions.startClickSelecting();\n}\n\nexport default handleBodyMousedown;","import closestParent  from '../../Shared/Util/closestParent';\nimport * as Selectors from '../Constants/Selectors';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleBodyMouseover(e: Event, {state, actions, dom}: IHandlerParams): void {\n    e.stopPropagation();\n\n    const option = closestParent(e.target as HTMLElement, Selectors.OPTION, true);\n\n    if (!option || state.isKeying) return;\n\n    const optionIndex = Array.prototype.indexOf.call(dom.option, option);\n\n    actions.focusOption(optionIndex);\n}\n\nexport default handleBodyMouseover;","import dispatchOpen from '../../Shared/Util/dispatchOpen';\nimport getIsMobilePlatform from '../../Shared/Util/getIsMobilePlatform';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleHeadClick(\n    injectedGetIsMobilePlatform: (ua: string) => boolean,\n    e: MouseEvent,\n    {state, actions, dom, config}: IHandlerParams\n): void {\n    if (state.isUseNativeMode) return;\n\n    const isMobilePlatform = injectedGetIsMobilePlatform(window.navigator.userAgent);\n\n    e.stopPropagation();\n\n    if (state.isClosed) {\n        dispatchOpen(actions, config, dom);\n\n        if (isMobilePlatform) {\n            actions.focus();\n        } else {\n            dom.select.focus();\n        }\n    } else {\n        actions.close();\n    }\n}\n\nconst boundHandleHeadClick = handleHeadClick.bind(null, getIsMobilePlatform);\n\nexport {\n    boundHandleHeadClick as default,\n    handleHeadClick\n};","import Config from '../../Config/Config';\nimport Dom    from '../../Renderer/Dom';\n\nimport CollisionType  from './Constants/CollisionType';\nimport ICollisionData from './Interfaces/ICollisionData';\n\nconst CLEARSPACE = 10;\n\nfunction mapCollisionData(deltaTop, deltaBottom, maxHeight, itemHeight): ICollisionData {\n    let type = CollisionType.NONE;\n    let maxVisibleItemsOverride = -1;\n\n    if (deltaTop <= maxHeight && deltaBottom <= maxHeight) {\n        const largestDelta = Math.max(deltaBottom, deltaTop);\n\n        type = deltaTop < deltaBottom ? CollisionType.TOP : CollisionType.BOTTOM;\n        maxVisibleItemsOverride = Math.floor(largestDelta / itemHeight);\n    } else if (deltaTop <= maxHeight) {\n        type = CollisionType.TOP;\n    } else if (deltaBottom <= maxHeight) {\n        type = CollisionType.BOTTOM;\n    }\n\n    return {type, maxVisibleItemsOverride};\n}\n\nfunction detectBodyCollision(dom: Dom, config: Config): ICollisionData {\n    const bbHead = dom.head.getBoundingClientRect();\n    const wh = window.innerHeight;\n    const deltaTop = bbHead.top - CLEARSPACE;\n    const deltaBottom = wh - bbHead.bottom - CLEARSPACE;\n\n    if (dom.option.length < 1) return {\n        type: CollisionType.NONE,\n        maxVisibleItemsOverride: -1\n    };\n\n    const maxVisibleItems = Math.min(config.behavior.maxVisibleItems, dom.item.length);\n    const maxHeight = dom.sumItemsHeight(maxVisibleItems);\n    const itemHeight = dom.sumItemsHeight(1);\n\n    return mapCollisionData(deltaTop, deltaBottom, maxHeight, itemHeight);\n}\n\nexport {\n    detectBodyCollision as default,\n    mapCollisionData\n};","import IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleItemsListScroll(e: Event, {state, actions, dom}: IHandlerParams): void {\n    e.stopPropagation();\n\n    const {offsetHeight, scrollHeight, scrollTop} = dom.itemsList;\n\n    if (scrollTop === 0) {\n        actions.topOut();\n    } else if (scrollTop === scrollHeight - offsetHeight) {\n        actions.bottomOut();\n    } else {\n        actions.scroll();\n    }\n}\n\nexport default handleItemsListScroll;","import IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleSelectBlur(e: Event, {actions, state, config}: IHandlerParams): void {\n    if (state.isKeying) return;\n\n    actions.blur();\n\n    if (config.behavior.openOnFocus && !state.isClickSelecting) actions.close();\n}\n\nexport default handleSelectBlur;","import dispatchOpen   from '../../Shared/Util/dispatchOpen';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleSelectFocus(e: Event, {actions, config, dom, state}: IHandlerParams): void {\n    actions.focus();\n\n    if (config.behavior.openOnFocus && !state.isUseNativeMode) {\n        dispatchOpen(actions, config, dom);\n    }\n}\n\nexport default handleSelectFocus;","import IHandlerParams      from '../Interfaces/IHandlerParams';\n\nfunction handleSelectInvalid(e: Event, {actions, config, dom}: IHandlerParams): void {\n    actions.invalidate();\n}\n\nexport default handleSelectInvalid;","import dispatchOpen       from '../../Shared/Util/dispatchOpen';\nimport killSelectReaction from '../../Shared/Util/killSelectReaction';\nimport * as KeyCodes      from '../Constants/KeyCodes';\nimport IHandlerParams     from '../Interfaces/IHandlerParams';\n\nimport handleSelectKeydownDown from './handleSelectKeydownDown';\nimport handleSelectKeydownUp   from './handleSelectKeydownUp';\n\nfunction handleSelectKeydown(e: KeyboardEvent, handlerParams: IHandlerParams): void {\n    const {keyCode, target} = e;\n    const {state, actions, dom, config} = handlerParams;\n\n    if (state.isUseNativeMode || state.isDisabled) return;\n\n    switch (keyCode) {\n        case KeyCodes.DOWN:\n            handleSelectKeydownDown(e, handlerParams);\n\n            break;\n        case KeyCodes.UP:\n            handleSelectKeydownUp(e, handlerParams);\n\n            break;\n        case KeyCodes.SPACE:\n            if (state.isSearching) {\n                e.stopPropagation();\n\n                return;\n            }\n\n        case KeyCodes.ENTER:\n            e.stopPropagation();\n            e.preventDefault();\n\n            killSelectReaction(target as HTMLSelectElement, handlerParams);\n\n            if (state.isOpen) {\n                actions.selectOption(state.focusedIndex, config.behavior.closeOnSelect);\n            } else {\n                dispatchOpen(actions, config, dom);\n            }\n\n            break;\n        case KeyCodes.ESC:\n            actions.close();\n\n            break;\n    }\n}\n\nexport default handleSelectKeydown;","import dispatchOpen       from '../../Shared/Util/dispatchOpen';\nimport killSelectReaction from '../../Shared/Util/killSelectReaction';\nimport IHandlerParams     from '../Interfaces/IHandlerParams';\n\nfunction handleSelectKeydownDown(\n    e: KeyboardEvent,\n    handlerParams: IHandlerParams\n): void {\n    const {metaKey, target} = e;\n    const {state, dom, actions, config} = handlerParams;\n\n    let focusedIndex: number = state.focusedIndex > -1 ?\n    state.focusedIndex : state.selectedIndex;\n\n    let iterations: number = 0;\n    let incrementAmount: number = 1;\n\n    e.preventDefault();\n\n    killSelectReaction(target as HTMLSelectElement, handlerParams);\n\n    if (metaKey) {\n        incrementAmount = Math.round(\n            Math.max(state.totalOptions / 2, config.behavior.maxVisibleItems)\n        );\n    }\n\n    do {\n        focusedIndex += incrementAmount;\n\n        incrementAmount = 1;\n\n        if (focusedIndex >= state.totalOptions) {\n            focusedIndex = config.behavior.loop ? 0 : state.totalOptions - 1;\n        }\n\n        actions.focusOption(focusedIndex, true);\n\n        iterations++;\n    }\n    while (\n        state.focusedOption &&\n        state.focusedOption.isDisabled &&\n        iterations <= state.totalOptions\n    );\n\n    if (state.isClosed) {\n        dispatchOpen(actions, config, dom);\n\n        return;\n    }\n}\n\nexport default handleSelectKeydownDown;","import dispatchOpen       from '../../Shared/Util/dispatchOpen';\nimport killSelectReaction from '../../Shared/Util/killSelectReaction';\nimport IHandlerParams     from '../Interfaces/IHandlerParams';\n\nfunction handleSelectKeydownUp(\n    e: KeyboardEvent,\n    handlerParams: IHandlerParams\n): void {\n    const {metaKey, target} = e;\n    const {state, config, dom, actions} = handlerParams;\n\n    let focusedIndex = state.focusedIndex > -1 ?\n        state.focusedIndex : state.selectedIndex;\n\n    let iterations = 0;\n    let incrementAmount: number = 1;\n\n    e.preventDefault();\n\n    killSelectReaction(target as HTMLSelectElement, handlerParams);\n\n    if (metaKey) {\n        incrementAmount = Math.round(\n            Math.max(state.totalOptions / 2, config.behavior.maxVisibleItems)\n        );\n    }\n\n    do {\n        focusedIndex -= incrementAmount;\n\n        incrementAmount = 1;\n\n        if (focusedIndex < 0) {\n            focusedIndex = config.behavior.loop ? state.totalOptions - 1 : 0;\n        }\n\n        actions.focusOption(focusedIndex, true);\n\n        iterations++;\n    }\n    while (\n        state.focusedOption &&\n        state.focusedOption.isDisabled &&\n        iterations < state.totalOptions\n    );\n\n    if (state.isClosed) {\n        dispatchOpen(actions, config, dom);\n    }\n}\n\nexport default handleSelectKeydownUp;","import * as KeyCodes  from '../Constants/KeyCodes';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nconst SEARCH_RESET_DURATION = 1200;\n\nfunction handleSelectKeypress(\n    {keyCode}: KeyboardEvent,\n    {actions, timers, state}: IHandlerParams,\n    searchResetDuration = SEARCH_RESET_DURATION\n): void {\n    if (state.isUseNativeMode || [KeyCodes.UP, KeyCodes.DOWN].includes(keyCode)) return;\n\n    window.clearTimeout(timers.searchTimeoutId);\n\n    actions.search();\n\n    timers.searchTimeoutId = window.setTimeout(() => actions.resetSearch(), searchResetDuration);\n}\n\nexport default handleSelectKeypress;","import root                     from '../Components/root';\nimport ClassNames               from '../Config/ClassNames';\nimport createDomElementFromHtml from '../Shared/Util/createDomElementFromHtml';\nimport State                    from '../State/State';\n\nimport Dom      from './Dom';\nimport domDiff  from './domDiff';\nimport domPatch from './domPatch';\n\nclass Renderer {\n    public classNames: ClassNames;\n    public dom: Dom;\n\n    constructor(classNames: ClassNames) {\n        this.dom = new Dom();\n        this.classNames = classNames;\n    }\n\n    public render(state: State, selectElement: HTMLSelectElement): Dom {\n        const html = root(state, this.classNames);\n        const rootElement = createDomElementFromHtml(html) as HTMLDivElement;\n\n        this.dom = new Dom();\n        this.dom.root = rootElement;\n\n        this.dom.option.length = this.dom.group.length = 0;\n\n        Renderer.queryDomRefs(this.dom);\n\n        this.injectSelect(selectElement);\n\n        return this.dom;\n    }\n\n    public update(state: State, key?: keyof State): void {\n        const nextHtml = root(state, this.classNames);\n        const nextRoot = createDomElementFromHtml(nextHtml) as HTMLDivElement;\n        const diffCommand = domDiff(this.dom.root, nextRoot);\n\n        domPatch(this.dom.root, diffCommand);\n\n        if (key === 'selectedIndex') {\n            this.syncSelectWithValue(state.value);\n        }\n    }\n\n    public destroy(): void {\n        this.dom.select.classList.remove(this.classNames.select);\n\n        try {\n            this.dom.root.parentElement.replaceChild(this.dom.select, this.dom.root);\n        } catch (err) { /**/ }\n    }\n\n    private injectSelect(selectElement: HTMLSelectElement): void {\n        const parent = selectElement.parentElement;\n        const tempSelect = this.dom.select;\n\n        if (!parent) throw new Error('[EasyDropDown] The provided `<select>` element must exist within a document');\n\n        parent.replaceChild(this.dom.root, selectElement);\n\n        tempSelect.parentElement.replaceChild(selectElement, tempSelect);\n        selectElement.className = this.classNames.select;\n        selectElement.setAttribute('aria-hidden', 'true');\n\n        this.dom.select = selectElement;\n    }\n\n    private syncSelectWithValue(value: string): void {\n        if (this.dom.select.value === value) return;\n\n        const event = new CustomEvent('change', {\n            bubbles: true\n        });\n\n        this.dom.select.value = value;\n\n        this.dom.select.dispatchEvent(event);\n    }\n\n    public static queryDomRefs(dom: Dom, keys: string[] = Object.keys(dom)): Dom {\n        return keys\n            .reduce((localDom: Dom, ref: string) => {\n                const selector = `[data-ref~=\"${ref}\"]`;\n                const elements = localDom.root.querySelectorAll(selector);\n\n                if (elements.length < 1 || ref === 'root') return localDom;\n\n                const element = elements[0];\n                const value = localDom[ref];\n\n                if (value === null) {\n                    localDom[ref] = element;\n                } else if (Array.isArray(value)) {\n                    Array.prototype.push.apply(value, elements);\n                }\n\n                return localDom;\n            }, dom);\n    }\n}\n\nexport default Renderer;","import ClassNames       from '../Config/ClassNames';\nimport composeClassName from '../Shared/Util/composeClassName';\nimport State            from '../State/State';\n\nimport body from './body';\nimport head from './head';\n\nconst root = (state: State, classNames: ClassNames) => {\n    const className = composeClassName([\n        classNames.root,\n        [state.isDisabled, classNames.rootDisabled],\n        [state.isInvalid, classNames.rootInvalid],\n        [state.isOpen, classNames.rootOpen],\n        [state.isFocused, classNames.rootFocused],\n        [state.hasValue, classNames.rootHasValue],\n        [state.isOpenAbove, classNames.rootOpenAbove],\n        [state.isOpenBelow, classNames.rootOpenBelow],\n        [state.isUseNativeMode, classNames.rootNative]\n    ]);\n\n    return (`\n        <div\n            class=\"${className}\"\n            role=\"widget combobox\"\n            aria-haspopup=\"listbox\"\n            ${state.isOpen ? 'aria-expanded=\"true\"' : ''}\n            ${state.isRequired ? 'aria-required=\"true\"' : ''}\n            ${state.isDisabled ? 'aria-disabled=\"true\"' : ''}\n            ${state.isInvalid ? 'aria-invalid=\"true\"' : ''}\n        >\n            ${head(state, classNames)}\n            ${state.isUseNativeMode ? '' : body(state, classNames)}\n        </div>\n    `);\n};\n\nexport default root;","import ClassNames       from '../Config/ClassNames';\nimport composeClassName from '../Shared/Util/composeClassName';\nimport State            from '../State/State';\n\nimport group from './group';\n\nfunction body(state: State, classNames: ClassNames): string {\n    const className = composeClassName([\n        classNames.body,\n        [state.isOpen, classNames.bodyOpen],\n        [state.isAtTop, classNames.bodyAtTop],\n        [state.isAtBottom, classNames.bodyAtBottom],\n        [state.isScrollable, classNames.bodyScrollable]\n    ]);\n\n    const styleAttr = state.isOpen ?\n        `style=\"max-height: ${state.maxBodyHeight}px;\"` : '';\n\n    return (`\n        <div\n            class=\"${className}\"\n            data-ref=\"body\"\n            role=\"listbox\"\n            ${state.isOpen ? '' : 'aria-hidden=\"true\"'}\n        >\n            <div class=\"${classNames.itemsList}\"\n                data-ref=\"itemsList\"\n                ${styleAttr}>\n                ${state.groups.map(groupState => group(groupState, state, classNames)).join('')}\n            </div>\n            <div class=${classNames.gradientTop} role=\"presentation\"></div>\n            <div class=${classNames.gradientBottom} role=\"presentation\"></div>\n        </div>\n    `);\n}\n\nexport default body;","import ClassNames       from '../Config/ClassNames';\nimport composeClassName from '../Shared/Util/composeClassName';\nimport Group            from '../State/Group';\nimport State            from '../State/State';\n\nimport option from './option';\n\nconst group = (groupState: Group, state: State, classNames: ClassNames) => {\n    const className = composeClassName([\n        classNames.group,\n        [groupState.isDisabled, classNames.groupDisabled],\n        [groupState.hasLabel, classNames.groupHasLabel]\n    ]);\n\n    return (`\n        <div class=\"${className}\" data-ref=\"group\" role=\"group\">\n            ${groupState.hasLabel ?\n                `<div class=\"${classNames.groupLabel}\" data-ref=\"item\">${groupState.label}</div>` : ''\n            }\n            ${groupState.options.map(optionState => option(optionState, state, classNames)).join('')}\n        </div>\n    `);\n};\n\nexport default group;","import ClassNames       from '../Config/ClassNames';\nimport composeClassName from '../Shared/Util/composeClassName';\nimport Option           from '../State/Option';\nimport State            from '../State/State';\n\nfunction option(optionState: Option, state: State, classNames: ClassNames): string {\n    const isSelected = state.selectedOption === optionState;\n\n    const className = composeClassName([\n        classNames.option,\n        [isSelected, classNames.optionSelected],\n        [optionState === state.focusedOption, classNames.optionFocused],\n        [optionState.isDisabled, classNames.optionDisabled]\n    ]);\n\n    return (`\n        <div\n            class=\"${className}\"\n            data-ref=\"option item\"\n            role=\"option\"\n            title=\"${optionState.label}\"\n            ${isSelected ? 'aria-selected=\"true\"' : ''}\n            ${optionState.isDisabled ? 'aria-disabled=\"true\"' : ''}\n            >\n                ${optionState.label}\n        </div>\n    `);\n}\n\nexport default option;","import ClassNames from '../Config/ClassNames';\nimport State      from '../State/State';\n\nimport arrow from './arrow';\nimport value from './value';\n\nconst head = (state: State, classNames: ClassNames) => (`\n    <div class=\"${classNames.head}\" data-ref=\"head\">\n        ${value(state, classNames)}\n        ${arrow(state, classNames)}\n        <select class=\"${classNames.select}\" data-ref=\"select\"></select>\n    </div>\n`);\n\nexport default head;","import ClassNames from '../Config/ClassNames';\n\nconst arrow = (_, classNames: ClassNames) => `<div class=\"${classNames.arrow}\" role=\"presentation\"></div>`;\n\nexport default arrow;","import ClassNames from '../Config/ClassNames';\nimport State      from '../State/State';\n\nconst value = (state: State, classNames: ClassNames) => {\n    return (`\n        <div\n            class=\"${classNames.value}\"\n            data-ref=\"value\"\n            ${state.isPlaceholderShown ? `aria-placeholder=\"${state.humanReadableValue}\"` : ''}\n        >\n            ${state.humanReadableValue}\n        </div>\n    `);\n};\n\nexport default value;","function createDomElementFromHtml(html: string): Element {\n    const temp = document.createElement('div');\n\n    temp.innerHTML = html;\n\n    return temp.firstElementChild;\n}\n\nexport default createDomElementFromHtml;","class Dom {\n    public select:    HTMLSelectElement = null;\n    public root:      HTMLDivElement    = null;\n    public head:      HTMLDivElement    = null;\n    public value:     HTMLDivElement    = null;\n    public body:      HTMLDivElement    = null;\n    public arrow:     HTMLDivElement    = null;\n    public itemsList: HTMLDivElement    = null;\n    public item:      HTMLDivElement[]  = [];\n    public group:     HTMLDivElement[]  = [];\n    public option:    HTMLDivElement[]  = [];\n\n    public sumItemsHeight(max: number = Infinity): number {\n        let totalHeight = 0;\n\n        for (let i = 0, item; (item = this.item[i]); i++) {\n            if (i === max) break;\n\n            totalHeight += item.offsetHeight;\n        }\n\n        return totalHeight;\n    }\n}\n\nexport default Dom;","import merge from 'helpful-merge';\n\nimport AttributeChangeType  from './Constants/AttributeChangeType';\nimport DomChangeType        from './Constants/DomChangeType';\nimport IAttributeChange     from './Interfaces/IAttributeChange';\nimport IPatchCommand        from './Interfaces/IPatchCommand';\nimport PatchCommand         from './PatchCommand';\n\nfunction domDiff(prev: Node, next: Node): PatchCommand {\n    let totalChildNodes = -1;\n\n    const command = new PatchCommand();\n\n    if (prev instanceof HTMLSelectElement) {\n        command.type = DomChangeType.NONE;\n\n        return command;\n    }\n\n    if (prev instanceof Text && next instanceof Text) {\n        if (prev.textContent === next.textContent) {\n            command.type = DomChangeType.NONE;\n        } else {\n            command.type = DomChangeType.INNER;\n            command.newTextContent = next.textContent;\n        }\n    } else if (prev instanceof HTMLElement && next instanceof HTMLElement) {\n        if (prev.tagName !== next.tagName) {\n            command.type = DomChangeType.REPLACE;\n            command.newNode = next;\n        } else if (prev.outerHTML === next.outerHTML) {\n            command.type = DomChangeType.NONE;\n        } else if (prev.innerHTML === next.innerHTML) {\n            merge(command, diffAttributeChanges(prev, next));\n        } else {\n            merge(command, diffAttributeChanges(prev, next));\n\n            if (command.attributeChanges.length > 0) {\n                command.type = DomChangeType.FULL;\n            } else {\n                command.type = DomChangeType.INNER;\n            }\n\n            if ((totalChildNodes = prev.childNodes.length) > 0 && totalChildNodes === next.childNodes.length) {\n                for (let i = 0, childNode; (childNode = prev.childNodes[i]); i++) {\n                    command.childCommands.push(domDiff(childNode, next.childNodes[i]));\n                }\n            } else {\n                command.newInnerHtml = next.innerHTML;\n            }\n        }\n    } else {\n        command.type = DomChangeType.REPLACE;\n        command.newNode = next;\n    }\n\n    return command;\n}\n\nfunction diffAttributeChanges(prev: HTMLElement, next: HTMLElement): IPatchCommand {\n    const totalAttributes = Math.max(prev.attributes.length, next.attributes.length);\n    const attributesMap   = {};\n    const undef           = void(0);\n    const attributeChanges: IAttributeChange[] = [];\n\n    for (let i = 0; i < totalAttributes; i++) {\n        const attr1 = prev.attributes[i];\n        const attr2 = next.attributes[i];\n\n        if (attr1 && attributesMap[attr1.name] === undef) {\n            attributesMap[attr1.name] = [];\n        }\n\n        if (attr2 && attributesMap[attr2.name] === undef) {\n            attributesMap[attr2.name] = [];\n        }\n\n        if (attr1) attributesMap[attr1.name][0] = attr1.value;\n        if (attr2) attributesMap[attr2.name][1] = attr2.value;\n    }\n\n    const keys = Object.keys(attributesMap);\n\n    if (keys.length > 1) {\n        keys.sort();\n    }\n\n    for (let i = 0, key; (key = keys[i]); i++) {\n        const attr = attributesMap[key];\n\n        const change: IAttributeChange = {\n            type: null,\n            name: key,\n            value: null\n        };\n\n        if (attr[0] === attr[1]) continue;\n\n        if (attr[0] === undef) {\n            change.type = AttributeChangeType.ADD;\n            change.value = attr[1];\n        } else if (attr[1] === undef) {\n            change.type = AttributeChangeType.REMOVE,\n            change.value = '';\n        } else {\n            change.type = AttributeChangeType.EDIT,\n            change.value = attr[1];\n        }\n\n        attributeChanges.push(change);\n    }\n\n    return {\n        type: DomChangeType.OUTER,\n        attributeChanges\n    };\n}\n\nexport default domDiff;","import DomChangeType    from './Constants/DomChangeType';\nimport IAttributeChange from './Interfaces/IAttributeChange';\n\nclass PatchCommand {\n    public type:             DomChangeType;\n    public newNode:          Node               = null;\n    public newInnerHtml:     string             = '';\n    public newTextContent:   string             = '';\n    public attributeChanges: IAttributeChange[] = [];\n    public childCommands:    PatchCommand[]      = [];\n    public index:            number             = null;\n}\n\nexport default PatchCommand;","import AttributeChangeType from './Constants/AttributeChangeType';\nimport DomChangeType       from './Constants/DomChangeType';\nimport IAttributeChange    from './Interfaces/IAttributeChange';\nimport PatchCommand        from './PatchCommand';\n\nfunction domPatch(node: Node, command: PatchCommand): Node {\n    switch (command.type) {\n        case DomChangeType.NONE:\n            return node;\n        case DomChangeType.REPLACE:\n            node.parentElement.replaceChild(command.newNode, node);\n\n            return command.newNode;\n        case DomChangeType.INNER:\n            if (node instanceof Text) {\n                node.textContent = command.newTextContent;\n            } else if (command.childCommands.length > 0) {\n                command.childCommands.forEach((childCommand, i) => domPatch(node.childNodes[i], childCommand));\n            } else {\n                (node as HTMLElement).innerHTML = command.newInnerHtml;\n            }\n\n            return node;\n        case DomChangeType.OUTER:\n            patchAttributes(node as HTMLElement, command.attributeChanges);\n\n            return node;\n        case DomChangeType.FULL:\n            if (command.childCommands.length > 0) {\n                command.childCommands.forEach((childCommand, i) => domPatch(node.childNodes[i], childCommand));\n            } else {\n                (node as HTMLElement).innerHTML = command.newInnerHtml;\n            }\n\n            patchAttributes(node as HTMLElement, command.attributeChanges);\n\n            return node;\n    }\n}\n\nfunction patchAttributes(el: HTMLElement, attributeChanges: IAttributeChange[]): void {\n    const raf = window.requestAnimationFrame;\n\n    attributeChanges.forEach(change => {\n        if (raf && ['class', 'style'].indexOf(change.name) > -1) {\n            raf(() => patchAttribute(el, change));\n        } else {\n            patchAttribute(el, change);\n        }\n    });\n}\n\nfunction patchAttribute(el: HTMLElement, change: IAttributeChange): void {\n    switch (change.type) {\n        case AttributeChangeType.ADD:\n        case AttributeChangeType.EDIT:\n            el.setAttribute(change.name, change.value);\n\n            break;\n        case AttributeChangeType.REMOVE:\n            el.removeAttribute(change.name);\n\n            break;\n    }\n}\n\nexport default domPatch;","import Config from '../../Config/Config';\nimport IActions from '../../State/Interfaces/IActions';\nimport State    from '../../State/State';\n\nconst POLL_INTERVAL_DURATION = 100;\n\nfunction pollForSelectChange(\n    selectElement: HTMLSelectElement,\n    state: State,\n    actions: IActions,\n    config: Config\n): number {\n    let lastValue: string = selectElement.value;\n\n    const pollIntervalId = window.setInterval(() => {\n        if (selectElement.value !== lastValue) {\n            const selectedIndex = state.getOptionIndexFromValue(selectElement.value);\n\n            actions.selectOption(selectedIndex, config.behavior.closeOnSelect);\n            actions.focusOption(selectedIndex, true);\n        }\n\n        lastValue = selectElement.value;\n    }, POLL_INTERVAL_DURATION);\n\n    return pollIntervalId;\n}\n\nexport default pollForSelectChange;","import State from '../../State/State';\n\nconst POLL_INTERVAL_DURATION = 300;\n\nfunction pollForSelectMutation(selectElement: HTMLSelectElement, state: State, handleMutation: () => void): number {\n    let lastOuterHtml: string = selectElement.outerHTML;\n\n    const pollIntervalId = window.setInterval(() => {\n        const {outerHTML} = selectElement;\n\n        if (outerHTML !== lastOuterHtml && !state.isKeying) {\n            handleMutation();\n        }\n\n        lastOuterHtml = outerHTML;\n    }, POLL_INTERVAL_DURATION);\n\n    return pollIntervalId;\n}\n\nexport default pollForSelectMutation;","import Easydropdown from '../../Easydropdown/Easydropdown';\n\nfunction closeOthers(thisInstance: Easydropdown, cache: Easydropdown[]): void {\n    for (const instance of cache) {\n        if (instance !== thisInstance) instance.actions.close();\n    }\n}\n\nexport default closeOthers;","import Timers from '../../Easydropdown/Timers';\nimport Dom    from '../../Renderer/Dom';\nimport State  from '../../State/State';\n\nfunction getScrollTop(\n    currentScrollTop: number,\n    optionOffsetTop: number,\n    optionHeight: number,\n    bodyHeight: number,\n    scrollOffset: number\n): number {\n    const max = currentScrollTop + bodyHeight;\n\n    let remainder: number;\n\n    if (optionOffsetTop < currentScrollTop) {\n        return optionOffsetTop - scrollOffset;\n    } else if ((remainder = (optionOffsetTop + optionHeight) - max) > 0) {\n        return currentScrollTop + remainder + scrollOffset;\n    }\n\n    return currentScrollTop;\n}\n\nfunction scrollToView(dom: Dom, timers: Timers, state: State, scrollToMiddle: boolean = false): void {\n    const index = Math.max(0, state.focusedIndex > -1 ? state.focusedIndex : state.selectedIndex);\n    const option = dom.option[index];\n\n    if (!option) return;\n\n    const offset = scrollToMiddle ? (state.maxBodyHeight / 2) - (option.offsetHeight / 2) : 0;\n\n    const scrollTop = getScrollTop(\n        dom.itemsList.scrollTop,\n        option.offsetTop,\n        option.offsetHeight,\n        state.maxBodyHeight,\n        offset\n    );\n\n    if (scrollTop === dom.itemsList.scrollTop) return;\n\n    dom.itemsList.scrollTop = scrollTop;\n}\n\nexport {\n    getScrollTop,\n    scrollToView as default\n};","import merge from 'helpful-merge';\n\nimport IActions            from './Interfaces/IActions';\nimport IOnAction           from './Interfaces/IOnAction';\nimport IPropertyDescriptor from './Interfaces/IPropertyDescriptor';\nimport resolveActions      from './resolveActions';\nimport State               from './State';\n\nclass StateManager {\n    public static proxyActions(state: State, injectedActions: any, onAction: IOnAction): IActions {\n        const stateProxy = StateManager.createStateProxy(state, onAction);\n        const actions = resolveActions(stateProxy);\n\n        merge(actions, injectedActions);\n\n        return actions;\n    }\n\n    private static createStateProxy(state: State, onAction: IOnAction): State {\n        return Object.seal(\n            StateManager\n                .getPropertyDescriptorsFromValue(state, onAction)\n                .reduce((proxy, {key, get, set}) => Object.defineProperty(\n                    proxy,\n                    key,\n                    {\n                        enumerable: true,\n                        get,\n                        set\n                    }\n                ), {})\n        );\n    }\n\n    private static getPropertyDescriptorsFromValue(state: State, onAction: IOnAction): IPropertyDescriptor[] {\n        const prototype = Object.getPrototypeOf(state);\n        const allKeys = Object.keys(state).concat(Object.keys(prototype));\n\n        return allKeys\n            .reduce((localDescriptors, key) => {\n                const propertyDescriptor =\n                    Object.getOwnPropertyDescriptor(state, key) ||\n                    Object.getOwnPropertyDescriptor(prototype, key);\n\n                const isAccessorProperty = typeof propertyDescriptor.get === 'function';\n\n                localDescriptors.push({\n                    get: StateManager.readPropertyValue.bind(null, state, key),\n                    set: isAccessorProperty ?\n                        void 0 : StateManager.updatePropertyValue.bind(null, state, key, onAction),\n                    key\n                });\n\n                return localDescriptors;\n            }, []);\n    }\n\n    private static readPropertyValue(state: State, key: string): any {\n        return state[key];\n    }\n\n    private static updatePropertyValue(state: State, key: string, onAction: IOnAction, value: any): void {\n        if (state[key] === value) return;\n\n        state[key] = value;\n\n        onAction(state, key);\n    }\n}\n\nexport default StateManager;","import CollisionType  from '../Shared/Util/Constants/CollisionType';\n\nimport BodyStatus   from './Constants/BodyStatus';\nimport ScrollStatus from './Constants/ScrollStatus';\nimport IActions     from './Interfaces/IActions';\nimport State        from './State';\n\nconst resolveActions = (state: State): IActions => ({\n    focus(): void {\n        state.isFocused = true;\n    },\n\n    blur(): void {\n        state.isFocused = false;\n    },\n\n    invalidate(): void {\n        state.isInvalid = true;\n    },\n\n    validate(): void {\n        state.isInvalid = false;\n    },\n\n    topOut(): void {\n        state.scrollStatus = ScrollStatus.AT_TOP;\n    },\n\n    bottomOut(): void {\n        state.scrollStatus = ScrollStatus.AT_BOTTOM;\n    },\n\n    scroll(): void {\n        state.scrollStatus = ScrollStatus.SCROLLED;\n    },\n\n    makeScrollable(): void {\n        state.isScrollable = true;\n    },\n\n    makeUnscrollable(): void {\n        state.isScrollable = false;\n    },\n\n    open(\n        this: IActions,\n        maxBodyHeight: number,\n        collisionType: CollisionType,\n        isScrollable: boolean\n    ): void {\n        if (state.isDisabled) return;\n\n        this.closeOthers();\n\n        switch (collisionType) {\n            case CollisionType.NONE:\n            case CollisionType.TOP:\n                state.bodyStatus = BodyStatus.OPEN_BELOW;\n\n                break;\n            case CollisionType.BOTTOM:\n                state.bodyStatus = BodyStatus.OPEN_ABOVE;\n\n                break;\n        }\n\n        state.isScrollable = isScrollable;\n        state.maxBodyHeight = maxBodyHeight;\n\n        this.scrollToView(state, true);\n    },\n\n    close(): void {\n        state.bodyStatus = BodyStatus.CLOSED;\n        state.focusedIndex = -1;\n\n        this.blur();\n    },\n\n    startClickSelecting(): void {\n        state.isClickSelecting = true;\n    },\n\n    selectOption(this: IActions, index: number, close = true): void {\n        const optionAtIndex = state.getOptionFromIndex(index);\n\n        state.isClickSelecting = false;\n\n        if (index > -1 && (!optionAtIndex || optionAtIndex.isDisabled)) return;\n\n        state.selectedIndex = index;\n\n        if (state.isInvalid && state.hasValue) {\n            this.validate();\n        }\n\n        if (state.isSearching) {\n            this.scrollToView(state);\n        } else if (close) {\n            this.close();\n        }\n    },\n\n    focusOption(this: IActions, index: number, shouldScrollToView: boolean = false): void {\n        const scrollToMiddle = Math.abs(index - state.focusedIndex) > 1;\n\n        state.focusedIndex = index;\n\n        if (shouldScrollToView) {\n            this.scrollToView(state, scrollToMiddle);\n        }\n    },\n\n    search(): void {\n        state.isSearching = true;\n    },\n\n    resetSearch(): void {\n        state.isSearching = false;\n    },\n\n    keying(): void {\n        state.isKeying = true;\n    },\n\n    resetKeying(): void {\n        state.isKeying = false;\n    },\n\n    useNative(): void {\n        state.isUseNativeMode = true;\n    }\n});\n\nexport default resolveActions;","import merge from 'helpful-merge';\n\nimport Config from '../Config/Config';\nimport getIsMobilePlatform from '../Shared/Util/getIsMobilePlatform';\n\nimport Group  from './Group';\nimport Option from './Option';\nimport State  from './State';\n\nclass StateMapper {\n    public static mapFromSelect(selectElement: HTMLSelectElement, config: Config): State {\n        const state = new State(null, config);\n\n        let isWithinGroup = false;\n\n        state.name = selectElement.name;\n        state.isDisabled = selectElement.disabled;\n        state.isRequired = selectElement.required;\n\n        state.isUseNativeMode = (\n            config.behavior.useNativeUiOnMobile &&\n            getIsMobilePlatform(window.navigator.userAgent)\n        );\n\n        for (let i = 0, child: Element; (child = selectElement.children[i]); i++) {\n            if (i === 0 && child.getAttribute('data-placeholder') !== null) {\n                state.placeholder = child.textContent;\n                (child as HTMLOptionElement).value = '';\n\n                continue;\n            }\n\n            if (child instanceof HTMLOptionElement) {\n                if (isWithinGroup === false) {\n                    state.groups.push(StateMapper.mapGroup());\n\n                    isWithinGroup = true;\n                }\n\n                state.lastGroup.options.push(StateMapper.mapOption(child));\n\n                if (child.selected) state.selectedIndex = state.totalOptions - 1;\n            } else if (child instanceof HTMLOptGroupElement) {\n                isWithinGroup = true;\n\n                state.groups.push(StateMapper.mapGroup(child));\n\n                for (let j = 0, groupChild: Element; (groupChild = child.children[j]); j++) {\n                    state.lastGroup.options.push(\n                        StateMapper.mapOption(\n                            groupChild as HTMLOptionElement,\n                            child as HTMLOptGroupElement\n                        )\n                    );\n\n                    if ((groupChild as HTMLOptionElement).selected) state.selectedIndex = state.totalOptions - 1;\n                }\n\n                isWithinGroup = false;\n            } else {\n                throw new TypeError(\n                    `[EasyDropDown] Invalid child tag \"${child.tagName}\" found in provided \\`<select>\\` element`\n                );\n            }\n        }\n\n        return Object.seal(state);\n    }\n\n    private static mapGroup(group: HTMLOptGroupElement = null): Group {\n        return merge(new Group(), {\n            label: group ? group.label : '',\n            isDisabled: group ? group.disabled : false\n        });\n    }\n\n    private static mapOption(option: HTMLOptionElement, group: HTMLOptGroupElement = null): Option {\n        if (!(option instanceof HTMLOptionElement)) throw new TypeError('[EasyDropDown] Invalid markup structure');\n\n        const isParentGroupDisabled = group !== null && group.disabled;\n\n        return merge(new Option(), {\n            label: option.textContent,\n            value: option.value,\n            isDisabled: option.disabled || isParentGroupDisabled\n        });\n    }\n}\n\nexport default StateMapper;","import merge from 'helpful-merge';\n\nimport Config from '../Config/Config';\n\nimport BodyStatus   from './Constants/BodyStatus';\nimport ScrollStatus from './Constants/ScrollStatus';\nimport Group        from  './Group';\nimport Option       from './Option';\n\nclass State {\n    public groups:                  Group[]      = [];\n    public focusedIndex:            number       = -1;\n    public selectedIndex:           number       = -1;\n    public maxVisibleItemsOverride: number       = -1;\n    public maxBodyHeight:           number       = -1;\n    public name:                    string       = '';\n    public placeholder:             string       = '';\n    public scrollStatus:            ScrollStatus = ScrollStatus.AT_TOP;\n    public bodyStatus:              BodyStatus   = BodyStatus.CLOSED;\n    public isDisabled:              boolean      = false;\n    public isRequired:              boolean      = false;\n    public isInvalid:               boolean      = false;\n    public isFocused:               boolean      = false;\n    public isUseNativeMode:         boolean      = false;\n    public isScrollable:            boolean      = false;\n    public isClickSelecting:        boolean      = false;\n    public isSearching:             boolean      = false;\n    public isKeying:                boolean      = false;\n\n    private config: Config;\n\n    constructor(stateRaw: any = null, config = new Config()) {\n        this.config = config;\n\n        if (!stateRaw) return;\n\n        merge(this, stateRaw);\n\n        this.groups = this.groups.map((groupRaw) => {\n            const group = merge(new Group(), groupRaw);\n\n            group.options = group.options.map(optionRaw => merge(new Option(), optionRaw));\n\n            return group;\n        });\n    }\n\n    public get totalGroups(): number {\n        return this.groups.length;\n    }\n\n    public get lastGroup(): Group {\n        return this.groups[this.groups.length - 1];\n    }\n\n    public get totalOptions(): number {\n        return this.groups.reduce((total: number, group: Group) => total + group.totalOptions, 0);\n    }\n\n    public get selectedOption(): Option {\n        return this.getOptionFromIndex(this.selectedIndex);\n    }\n\n    public get focusedOption(): Option {\n        return this.getOptionFromIndex(this.focusedIndex);\n    }\n\n    public get value(): string {\n        return this.selectedOption ? this.selectedOption.value : '';\n    }\n\n    public get humanReadableValue(): string {\n        if (\n            (!this.hasValue && this.hasPlaceholder) ||\n            (\n                this.config.behavior.showPlaceholderWhenOpen &&\n                this.hasPlaceholder &&\n                this.isOpen\n            )\n        ) {\n            return this.placeholder;\n        }\n\n        return this.label;\n    }\n\n    public get label(): string {\n        return this.selectedOption ? this.selectedOption.label : '';\n    }\n\n    public get hasPlaceholder(): boolean {\n        return this.placeholder !== '';\n    }\n\n    public get isPlaceholderShown(): boolean {\n        return this.hasPlaceholder && !this.hasValue;\n    }\n\n    public get hasValue(): boolean {\n        return this.value !== '';\n    }\n\n    public get isGrouped(): boolean {\n        return Boolean(this.groups.find(group => group.hasLabel));\n    }\n\n    public get isOpen(): boolean {\n        return this.bodyStatus !== BodyStatus.CLOSED;\n    }\n\n    public get isClosed(): boolean {\n        return this.bodyStatus === BodyStatus.CLOSED;\n    }\n\n    public get isOpenAbove(): boolean {\n        return this.bodyStatus === BodyStatus.OPEN_ABOVE;\n    }\n\n    public get isOpenBelow(): boolean {\n        return this.bodyStatus === BodyStatus.OPEN_BELOW;\n    }\n\n    public get isAtTop(): boolean {\n        return this.scrollStatus === ScrollStatus.AT_TOP;\n    }\n\n    public get isAtBottom(): boolean {\n        return this.scrollStatus === ScrollStatus.AT_BOTTOM;\n    }\n\n    public getOptionFromIndex(index: number): Option {\n        let groupStartIndex = 0;\n\n        for (const group of this.groups) {\n            if (index < 0 ) break;\n\n            const groupEndIndex = Math.max(0, groupStartIndex + group.totalOptions - 1);\n\n            if (index <= groupEndIndex) {\n                const option = group.options[index - groupStartIndex];\n\n                return option;\n            }\n\n            groupStartIndex += group.totalOptions;\n        }\n\n        return null;\n    }\n\n    public getOptionIndexFromValue(value: string): number {\n        let index: number = -1;\n\n        for (const group of this.groups) {\n            for (const option of group.options) {\n                index++;\n\n                if (option.value === value) {\n                    return index;\n                }\n            }\n        }\n\n        return -1;\n    }\n}\n\nexport default State;","class Timers {\n    public pollChangeIntervalId: number;\n    public pollMutationIntervalId: number;\n    public searchTimeoutId: number;\n    public keyingTimeoutId: number;\n\n    public clear(): void {\n        Object.keys(this).forEach(key => window.clearInterval(this[key]));\n    }\n}\n\nexport default Timers;","import Easydropdown from './Easydropdown';\n\nclass EasydropdownFacade {\n    /**\n     * Programmatically opens the dropdown, closing any\n     * other open instances.\n     */\n\n    public open: () => void;\n\n    /**\n     * Programmatically closes the dropdown.\n     */\n\n    public close: () => void;\n\n    /**\n     * Refreshes the instance and updates the DOM in\n     * response to a change in the underlying `<select>`\n     * element (for example, adding or removing an option).\n     */\n\n    public refresh: () => void;\n\n    /**\n     * Validates the instance by checking\n     * the current state whether dropown is required\n     * and a selection was made\n     *\n     * @returns boolean whether the dropdown is valid\n     */\n\n    public validate: () => boolean;\n\n    /**\n     * Destroys the instance by removing all EasyDropDown-generated\n     * elements from the DOM, and unbinding all event handlers.\n     * The underlying select is returned to the root position.\n     */\n\n    public destroy: () => void;\n\n    /**\n     * An accessor property allowing writing to and reading\n     * from the dropdown's value.\n     */\n\n    public value: string;\n\n    constructor(implementation: Easydropdown) {\n        this.open = implementation.open.bind(implementation);\n        this.close = implementation.close.bind(implementation);\n        this.refresh = implementation.refresh.bind(implementation);\n        this.destroy = implementation.destroy.bind(implementation);\n        this.validate = implementation.validate.bind(implementation);\n\n        Object.defineProperties(this, {\n            value: {\n                get: () => implementation.value,\n                set: (nextValue: string) => implementation.value = nextValue\n            }\n        });\n    }\n}\n\nexport default EasydropdownFacade;"],"sourceRoot":""}